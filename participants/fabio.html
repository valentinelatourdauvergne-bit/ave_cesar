
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Pronostics ‚Äî fabio</title>
<style>
 body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;margin:0;background:#0f172a;color:#e5e7eb}
 .wrap{max-width:860px;margin:0 auto;padding:24px}
 .top{display:flex;justify-content:space-between;align-items:center;gap:8px;margin-bottom:12px}
 a{color:#a7f3d0;text-decoration:none}
 .card{background:#0b1220;border:1px solid #1f2937;border-radius:12px;padding:16px}
 .cat{border-top:1px dashed #1f2937;padding-top:12px;margin-top:8px}
 label{display:block;margin-bottom:6px;font-weight:600}
 select{width:100%;background:#0b1220;color:#e5e7eb;border:1px solid #1f2937;border-radius:10px;padding:12px;font-size:16px}
 .grid{display:grid;gap:10px;grid-template-columns:1fr}
 @media(min-width:560px){.grid{grid-template-columns:1fr 1fr 1fr}}
 .btnrow{display:grid;gap:8px;grid-template-columns:1fr}
 @media(min-width:420px){.btnrow{grid-template-columns:1fr 1fr}}
 .btn{cursor:pointer;border:1px solid #1f2937;background:#111827;color:#fff;padding:12px;border-radius:10px;font-weight:600;font-size:16px}
 .save{background:linear-gradient(90deg,#22c55e,#16a34a);border:none}
 .erase{background:#7f1d1d}
 .total{font-size:26px;font-weight:700;margin-top:14px;text-align:center}
 .pts{color:#a7f3d0;font-size:12px;margin-top:6px;text-align:right}
</style>
</head>
<body>
<div class="wrap">
  <div class="top">
    <h1 style="margin:0">Pronostics ‚Äî fabio</h1>
    <div><a href="../index.html">‚Üê Accueil</a></div>
  </div>

  <div class="card">
    <p class="pts" style="text-align:left">R√®gle : 3 pts si <em>C≈ìur = Gagnant</em> ; 2 pts si <em>R√©aliste = Gagnant</em> (y compris si <em>C≈ìur = R√©aliste = Gagnant</em>) ; 0 pt sinon.</p>
    <div id="cats"></div>
    <div id="total" class="total">Total : 0 pts</div>
  </div>
</div>

<template id="tpl">
  <div class="cat">
    <h3 style="margin:0 0 6px"></h3>
    <div class="grid">
      <div>
        <label>Choix du c≈ìur</label>
        <select class="coeur"></select>
      </div>
      <div>
        <label>Choix r√©aliste</label>
        <select class="real"></select>
      </div>
      <div>
        <label>Gagnant</label>
        <select class="win"></select>
      </div>
    </div>
    <div class="btnrow">
      <button class="btn save">üíæ Sauvegarder cette cat√©gorie</button>
      <button class="btn erase">üóëÔ∏è Effacer cette cat√©gorie</button>
    </div>
    <div class="pts" data-pts>0 pt</div>
  </div>
</template>

<script>
const NAME = "fabio";
const CATS = [["Meilleur film", ["L‚ÄôAttachement ‚Äì Carine Tardieu", "Dossier 137 ‚Äì Dominik Moll", "Nouvelle Vague ‚Äì Richard Linklater", "La Petite Derni√®re ‚Äì Hafsia Herzi", "Un Simple Accident ‚Äì Jafar Panahi"]], ["Meilleure r√©alisation", ["Carine Tardieu ‚Äì L‚ÄôAttachement", "Dominik Moll ‚Äì Dossier 137", "St√©phane Demoustier ‚Äì L‚ÄôInconnu de la Grande Arche", "Richard Linklater ‚Äì Nouvelle Vague", "Hafsia Herzi ‚Äì La Petite Derni√®re"]], ["Meilleure actrice", ["Le√Øla Bekhti ‚Äì Ma m√®re, Dieu et Sylvie Vartan", "Valeria Bruni Tedeschi ‚Äì L‚ÄôAttachement", "L√©a Drucker ‚Äì Dossier 137", "Isabelle Huppert ‚Äì La Femme la plus riche du monde", "M√©lanie Thierry ‚Äì La Chambre de Mariana"]], ["Meilleur acteur", ["Claes Bang ‚Äì L‚ÄôInconnu de la Grande Arche", "Bastien Bouillon ‚Äì Partir un jour", "Laurent Lafitte ‚Äì La Femme la plus riche du monde", "Pio Marma√Ø ‚Äì L‚ÄôAttachement", "Benjamin Voisin ‚Äì L‚Äô√âtranger"]], ["Meilleure actrice dans un second r√¥le", ["Jeanne Balibar ‚Äì Nino", "Dominique Blanc ‚Äì Partir un jour", "Marina Fo√Øs ‚Äì La Femme la plus riche du monde", "Ji‚ÄëMin Park ‚Äì La Petite Derni√®re", "Vimala Pons ‚Äì L‚ÄôAttachement"]], ["Meilleur acteur dans un second r√¥le", ["Swann Arlaud ‚Äì L‚ÄôInconnu de la Grande Arche", "Xavier Dolan ‚Äì L‚ÄôInconnu de la Grande Arche", "Michel Fau ‚Äì L‚ÄôInconnu de la Grande Arche", "Pierre Lottin ‚Äì L‚Äô√âtranger", "Rapha√´l Personnaz ‚Äì La Femme la plus riche du monde"]], ["Meilleur espoir f√©minin", ["Manon Clavel ‚Äì Kika", "Suzanne Lindon ‚Äì La Venue de l‚Äôavenir", "Nadia Melliti ‚Äì La Petite Derni√®re", "Camille Rutherford ‚Äì Jane Austen a g√¢ch√© ma vie", "Anja Verderosa ‚Äì L‚Äô√âpreuve du feu"]], ["Meilleur espoir masculin", ["Idir Azougli ‚Äì M√©t√©ors", "Sayyid El Alami ‚Äì La Pampa", "F√©lix Lefebvre ‚Äì L‚Äô√âpreuve du feu", "Guillaume Marbeck ‚Äì Nouvelle Vague", "Th√©odore Pellerin ‚Äì Nino"]], ["Meilleur sc√©nario original", ["Dominik Moll, Gilles Marchand ‚Äì Dossier 137", "Pauline Loqu√®s ‚Äì Nino", "Holly Gent, Vince Palmo, Mich√®le Halberstadt, Laetitia Masson ‚Äì Nouvelle Vague", "Franck Dubosc, Sarah Kaminsky ‚Äì Un ours dans le Jura", "Jafar Panahi ‚Äì Un Simple Accident"]], ["Meilleure adaptation", ["Carine Tardieu, Rapha√´le Moussafir, Agn√®s Feuvre ‚Äì L‚ÄôAttachement", "St√©phane Demoustier ‚Äì L‚ÄôInconnu de la Grande Arche", "Hafsia Herzi ‚Äì La Petite Derni√®re"]], ["Meilleure musique originale", ["Arnaud Toulon ‚Äì ARCO", "Olivier Marguerit ‚Äì Dossier 137", "Fatima Al Qadiri ‚Äì L‚Äô√âtranger", "Alex Beaupain ‚Äì La Femme la plus riche du monde", "Amine Bouhafa ‚Äì La Petite Derni√®re"]], ["Meilleur son", ["Nicolas Becker, Andrea Ferrara, Jon Goc, Damien Lazzerini ‚Äì ARCO", "Romain Cadilhac, Marc Namblard, Olivier Touche, Olivier Goinard ‚Äì Le Chant des For√™ts", "Fran√ßois Maurel, Rym Debbarh‚ÄëMounir, Nathalie Vidal ‚Äì Dossier 137", "Jean Minondo, Serge Rouquairol, Christophe Vingtrinier ‚Äì Nouvelle Vague", "R√©mi Chanaud, Jeanne Delplancq, Fanny Martin, Niels Barletta ‚Äì Partir un jour"]], ["Meilleure photographie", ["Elin Kirschfink ‚Äì L‚ÄôAttachement", "Patrick Ghiringhelli ‚Äì Dossier 137", "Marine Atlan ‚Äì L‚ÄôEngloutie", "Manu Dacosse ‚Äì L‚Äô√âtranger", "David Chambille ‚Äì Nouvelle Vague"]], ["Meilleur montage", ["Stan Collet ‚Äì 13 jours, 13 nuits", "Christel Dewynter ‚Äì L‚ÄôAttachement", "Laurent Rouan ‚Äì Dossier 137", "Catherine Schwartz ‚Äì Nouvelle Vague", "G√©raldine Mangenot ‚Äì La Petite Derni√®re"]], ["Meilleurs d√©cors", ["Jean‚ÄëPhilippe Moreaux ‚Äì Chien 51", "Catherine Cosme ‚Äì L‚ÄôInconnu de la Grande Arche", "Riton Dupire‚ÄëCl√©ment ‚Äì Ma m√®re, Dieu et Sylvie Vartan", "Katia Wyszkop ‚Äì Nouvelle Vague", "Marie Cheminal ‚Äì La Venue de l‚Äôavenir"]], ["Meilleurs costumes", ["C√©line Guignard ‚Äì La Condition", "Corinne Bruand ‚Äì Dracula", "J√ºrgen Doering ‚Äì La Femme la plus riche du monde", "Pascaline Chavanne ‚Äì Nouvelle Vague", "Pierre‚ÄëYves Gayraud ‚Äì La Venue de l‚Äôavenir"]], ["Meilleurs effets visuels", ["C√©dric Fayolle ‚Äì Chien 51", "Rodolphe Chabrier, Beno√Æt de Longl√©e ‚Äì L‚ÄôHomme qui r√©tr√©cit", "Lise Fischer ‚Äì L‚ÄôInconnu de la Grande Arche", "Alain Carsoux ‚Äì Nouvelle Vague"]], ["Meilleur film d‚Äôanimation (long m√©trage)", ["Am√©lie et la m√©taphysique des tubes ‚Äì Ma√Ølys Vallade, Liane‚ÄëCho Han", "ARCO ‚Äì Ugo Bienvenu", "La Vie de ch√¢teau, mon enfance √† Versailles ‚Äì Cl√©mence Madeleine‚ÄëPerdrillat, Nathaniel H‚ÄôLimi"]], ["Meilleur film documentaire", ["√Ä Bicyclette ! ‚Äì Mathias Mlekuz", "Le Chant des For√™ts ‚Äì Vincent Munier", "Le Cinqui√®me Plan de La Jet√©e ‚Äì Dominique Cabrera", "Personne n‚Äôy comprend rien ‚Äì Yannick Kergoat", "Put Your Soul On Your Hand And Walk ‚Äì Sepideh Farsi"]], ["Meilleur premier film", ["ARCO ‚Äì Ugo Bienvenu", "L‚Äô√âpreuve du feu ‚Äì Aur√©lien Peyre", "Nino ‚Äì Pauline Loqu√®s", "La Pampa ‚Äì Antoine Chevrollier", "Partir un jour ‚Äì Am√©lie Bonnin"]], ["Meilleur film √©tranger", ["L‚ÄôAgent secret ‚Äì Kleber Mendon√ßa Filho", "Black Dog ‚Äì Guan Hu", "SirƒÅt ‚Äì Oliver Laxe", "Une bataille apr√®s l‚Äôautre ‚Äì Paul Thomas Anderson", "Valeur sentimentale ‚Äì Joachim Trier"]], ["Meilleur court m√©trage d‚Äôanimation", ["Les Belles Cicatrices ‚Äì Rapha√´l Jouzeau", "Dieu est timide ‚Äì Jocelyn Charles", "Fille de l‚Äôeau ‚Äì Sandra Desmazi√®res"]], ["Meilleur court m√©trage documentaire", ["Au bain des dames ‚Äì Margaux Fournier", "Car Wash ‚Äì La√Øs Decaster", "Ni Dieu ni P√®re ‚Äì Paul Kermarec"]], ["Meilleur court m√©trage de fiction", ["Big Boys Don‚Äôt Cry ‚Äì Arnaud Delmarle", "Deux personnes √©changeant de la salive ‚Äì Natalie Musteata, Alexandre Singh", "Mort d‚Äôun acteur ‚Äì Ambroise Rateau", "Wonderwall ‚Äì R√≥is√≠n Burns"]]];
const KEY = 'cesars2026_' + NAME + '_choices';

function buildSelect(sel, arr){
  sel.innerHTML='';
  const base=['‚Äî S√©lectionner ‚Äî', ...arr, 'Autre (saisie libre)‚Ä¶'];
  base.forEach(v=>{ const o=document.createElement('option'); o.value=v; o.textContent=v; sel.appendChild(o); });
}

// R√àGLE B
function computePoints(coeur, real, win){
  if(!win || win==='‚Äî S√©lectionner ‚Äî' || win==='‚Äî Non d√©fini ‚Äî') return 0;
  const equalAll = (coeur && real && coeur===real && real===win);
  if(equalAll) return 2;                 // coeur = real = gagnant => 2
  if(coeur && coeur===win) return 3;     // coeur = gagnant => 3
  if(real && real===win) return 2;       // r√©aliste = gagnant => 2
  return 0;
}

function loadSaved(){ try{ return JSON.parse(localStorage.getItem(KEY)||'{}'); }catch(e){ return {}; } }
function saveCategory(root, title){
  const coeur = root.querySelector('.coeur').value;
  const real  = root.querySelector('.real').value;
  const win   = root.querySelector('.win').value;
  const pts   = computePoints(coeur, real, win);
  const all = loadSaved();
  all[title] = { coeur, realiste: real, gagnant: win, pts };
  localStorage.setItem(KEY, JSON.stringify(all));
  const badge = root.querySelector('[data-pts]');
  badge.dataset.value = pts;
  badge.textContent = pts + ' pt' + (pts>1?'s':'');
  recalcTotal();
}
function clearCategory(root, title){
  const all = loadSaved();
  delete all[title];
  localStorage.setItem(KEY, JSON.stringify(all));
  root.querySelector('.coeur').value='‚Äî S√©lectionner ‚Äî';
  root.querySelector('.real').value='‚Äî S√©lectionner ‚Äî';
  const winSel = root.querySelector('.win');
  if(winSel.querySelector('option') && winSel.querySelector('option').value==='‚Äî Non d√©fini ‚Äî'){
    winSel.value='‚Äî Non d√©fini ‚Äî';
  } else {
    winSel.selectedIndex = 0;
  }
  const badge = root.querySelector('[data-pts]');
  badge.dataset.value = 0; badge.textContent = '0 pt';
  recalcTotal();
}
function recalcTotal(){
  let total=0; document.querySelectorAll('[data-pts]').forEach(x=>{ total+=Number(x.dataset.value||0); });
  document.getElementById('total').textContent = 'Total : ' + total + ' pts';
}

window.addEventListener('DOMContentLoaded',()=>{
  const root = document.getElementById('cats');
  const tpl  = document.getElementById('tpl');
  const saved= loadSaved();

  CATS.forEach(cat=>{
    const node = tpl.content.cloneNode(true);
    const title = cat[0], options = cat[1];
    node.querySelector('h3').textContent = title;

    const coeur = node.querySelector('.coeur');
    const real  = node.querySelector('.real');
    const win   = node.querySelector('.win');

    buildSelect(coeur, options);
    buildSelect(real , options);
    win.innerHTML='';
    const winners = ['‚Äî Non d√©fini ‚Äî', ...options];
    winners.forEach(v=>{ const o=document.createElement('option'); o.value=v; o.textContent=v; win.appendChild(o); });

    // pr√©-remplir et points init
    const badge = node.querySelector('[data-pts]');
    if(saved[title]){
      if(saved[title].coeur)    coeur.value = saved[title].coeur;
      if(saved[title].realiste) real.value  = saved[title].realiste;
      if(saved[title].gagnant)  win.value   = saved[title].gagnant;
      const pts = Number(saved[title].pts||0);
      badge.dataset.value = pts; badge.textContent = pts + ' pt' + (pts>1?'s':'');
    } else {
      badge.dataset.value = 0; badge.textContent = '0 pt';
    }

    // boutons par cat√©gorie
    node.querySelector('.save').addEventListener('click', ()=> saveCategory(node, title));
    node.querySelector('.erase').addEventListener('click', ()=> clearCategory(node, title));

    root.appendChild(node);
  });

  recalcTotal();
});
</script>
</body>
</html>

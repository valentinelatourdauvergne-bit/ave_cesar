<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CÃ©sars 2026 â€” Pronostics & Classement</title>
  <style>
    :root{
      --bg:#0f172a;--panel:#0b1220;--border:#1f2937;
      --text:#e5e7eb;--muted:#94a3b8;--accent:#22c55e
    }
    body{
      margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background:radial-gradient(1200px 800px at 10% 10%,#0b1220,#0f172a);
      color:var(--text)
    }
    .container{max-width:980px;margin:0 auto;padding:24px}
    a{color:#a7f3d0;text-decoration:none}
    .card{
      background:linear-gradient(180deg,#0f172acc,#0b1220cc);
      border:1px solid var(--border);border-radius:14px;
      box-shadow:0 8px 24px rgba(0,0,0,.3);padding:18px
    }
    ul{list-style:none;padding:0} li{margin:8px 0}
    select,input[type=text]{
      width:100%;background:#0b1220;color:var(--text);
      border:1px solid var(--border);border-radius:10px;padding:10px
    }
    label{display:block;margin-bottom:6px;font-weight:600}
    .grid{display:grid;gap:14px;grid-template-columns:1fr}
    @media(min-width:700px){.grid{grid-template-columns:1fr 1fr}}
    .footer{margin-top:18px;color:var(--muted);font-size:12px}
    .btn{
      cursor:pointer;border:1px solid var(--border);color:#fff;
      background:#111827;padding:10px 14px;border-radius:10px;
      font-weight:600;display:inline-block
    }
    .btn-primary{background:linear-gradient(90deg,#22c55e,#16a34a);border:none}
    table{width:100%;border-collapse:collapse;margin-top:20px}
    th,td{border:1px solid var(--border);padding:8px;text-align:left}
    th{background:#1e293b}
    .nav{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 16px}
  </style>
</head>
<body>
<div class="container">

<script>
/* Participants */
const PARTICIPANTS_BASE = ["fabio","marion","alban","paul","val","lucile","oumeya"];

/* CatÃ©gories (version complÃ¨te) */
const CATEGORIES = [
  ["Meilleur film",[ "Lâ€™Attachement â€“ Carine Tardieu","Dossier 137 â€“ Dominik Moll","Nouvelle Vague â€“ Richard Linklater","La Petite DerniÃ¨re â€“ Hafsia Herzi","Un Simple Accident â€“ Jafar Panahi"]],
  ["Meilleure rÃ©alisation",[ "Carine Tardieu â€“ Lâ€™Attachement","Dominik Moll â€“ Dossier 137","StÃ©phane Demoustier â€“ Lâ€™Inconnu de la Grande Arche","Richard Linklater â€“ Nouvelle Vague","Hafsia Herzi â€“ La Petite DerniÃ¨re"]],
  ["Meilleure actrice",[ "LeÃ¯la Bekhti â€“ Ma mÃ¨re, Dieu et Sylvie Vartan","Valeria Bruni Tedeschi â€“ Lâ€™Attachement","LÃ©a Drucker â€“ Dossier 137","Isabelle Huppert â€“ La Femme la plus riche du monde","MÃ©lanie Thierry â€“ La Chambre de Mariana"]],
  ["Meilleur acteur",[ "Claes Bang â€“ Lâ€™Inconnu de la Grande Arche","Bastien Bouillon â€“ Partir un jour","Laurent Lafitte â€“ La Femme la plus riche du monde","Pio MarmaÃ¯ â€“ Lâ€™Attachement","Benjamin Voisin â€“ Lâ€™Ã‰tranger"]],
  ["Meilleure actrice dans un second rÃ´le",[ "Jeanne Balibar â€“ Nino","Dominique Blanc â€“ Partir un jour","Marina FoÃ¯s â€“ La Femme la plus riche du monde","Jiâ€‘Min Park â€“ La Petite DerniÃ¨re","Vimala Pons â€“ Lâ€™Attachement"]],
  ["Meilleur acteur dans un second rÃ´le",[ "Swann Arlaud â€“ Lâ€™Inconnu de la Grande Arche","Xavier Dolan â€“ Lâ€™Inconnu de la Grande Arche","Michel Fau â€“ Lâ€™Inconnu de la Grande Arche","Pierre Lottin â€“ Lâ€™Ã‰tranger","RaphaÃ«l Personnaz â€“ La Femme la plus riche du monde"]],
  ["Meilleur espoir fÃ©minin",[ "Manon Clavel â€“ Kika","Suzanne Lindon â€“ La Venue de lâ€™avenir","Nadia Melliti â€“ La Petite DerniÃ¨re","Camille Rutherford â€“ Jane Austen a gÃ¢chÃ© ma vie","Anja Verderosa â€“ Lâ€™Ã‰preuve du feu"]],
  ["Meilleur espoir masculin",[ "Idir Azougli â€“ MÃ©tÃ©ors","Sayyid El Alami â€“ La Pampa","FÃ©lix Lefebvre â€“ Lâ€™Ã‰preuve du feu","Guillaume Marbeck â€“ Nouvelle Vague","ThÃ©odore Pellerin â€“ Nino"]],
  ["Meilleur scÃ©nario original",[ "Dominik Moll, Gilles Marchand â€“ Dossier 137","Pauline LoquÃ¨s â€“ Nino","Holly Gent, Vince Palmo â€“ Nouvelle Vague","Franck Dubosc â€“ Un ours dans le Jura","Jafar Panahi â€“ Un Simple Accident"]],
  ["Meilleure adaptation",[ "Carine Tardieu â€“ Lâ€™Attachement","StÃ©phane Demoustier â€“ Lâ€™Inconnu de la Grande Arche","Hafsia Herzi â€“ La Petite DerniÃ¨re"]],
  ["Meilleure musique originale",[ "Arnaud Toulon â€“ ARCO","Olivier Marguerit â€“ Dossier 137","Fatima Al Qadiri â€“ Lâ€™Ã‰tranger","Alex Beaupain â€“ La Femme la plus riche du monde","Amine Bouhafa â€“ La Petite DerniÃ¨re"]],
  ["Meilleur son",[ "Nicolas Becker â€“ ARCO","Romain Cadilhac â€“ Le Chant des ForÃªts","FranÃ§ois Maurel â€“ Dossier 137","Jean Minondo â€“ Nouvelle Vague","RÃ©mi Chanaud â€“ Partir un jour"]],
  ["Meilleure photographie",[ "Elin Kirschfink â€“ Lâ€™Attachement","Patrick Ghiringhelli â€“ Dossier 137","Marine Atlan â€“ Lâ€™Engloutie","Manu Dacosse â€“ Lâ€™Ã‰tranger","David Chambille â€“ Nouvelle Vague"]],
  ["Meilleur montage",[ "Stan Collet â€“ 13 jours, 13 nuits","Christel Dewynter â€“ Lâ€™Attachement","Laurent Rouan â€“ Dossier 137","Catherine Schwartz â€“ Nouvelle Vague","GÃ©raldine Mangenot â€“ La Petite DerniÃ¨re"]],
  ["Meilleurs dÃ©cors",[ "Jeanâ€‘Philippe Moreaux â€“ Chien 51","Catherine Cosme â€“ Lâ€™Inconnu de la Grande Arche","Riton Dupireâ€‘ClÃ©ment â€“ Ma mÃ¨re, Dieu et Sylvie Vartan","Katia Wyszkop â€“ Nouvelle Vague","Marie Cheminal â€“ La Venue de lâ€™avenir"]],
  ["Meilleurs costumes",[ "CÃ©line Guignard â€“ La Condition","Corinne Bruand â€“ Dracula","JÃ¼rgen Doering â€“ La Femme la plus riche du monde","Pascaline Chavanne â€“ Nouvelle Vague","Pierreâ€‘Yves Gayraud â€“ La Venue de lâ€™avenir"]],
  ["Meilleurs effets visuels",[ "CÃ©dric Fayolle â€“ Chien 51","Rodolphe Chabrier â€“ Lâ€™Homme qui rÃ©trÃ©cit","Lise Fischer â€“ Lâ€™Inconnu de la Grande Arche","Alain Carsoux â€“ Nouvelle Vague"]],
  ["Meilleur film dâ€™animation",[ "AmÃ©lie et la mÃ©taphysique des tubes","ARCO â€“ Ugo Bienvenu","La Vie de chÃ¢teau â€“ Madeleineâ€‘Perdrillat"]],
  ["Meilleur film documentaire",[ "Ã€ Bicyclette !","Le Chant des ForÃªts","Le CinquiÃ¨me Plan de La JetÃ©e","Personne nâ€™y comprend rien","Put Your Soul On Your Hand And Walk"]],
  ["Meilleur premier film",[ "ARCO","Lâ€™Ã‰preuve du feu","Nino","La Pampa","Partir un jour"]],
  ["Meilleur film Ã©tranger",[ "Lâ€™Agent secret","Black Dog","SirÄt","Une bataille aprÃ¨s lâ€™autre","Valeur sentimentale"]],
  ["Court mÃ©trage animation",[ "Les Belles Cicatrices","Dieu est timide","Fille de lâ€™eau"]],
  ["Court mÃ©trage documentaire",[ "Au bain des dames","Car Wash","Ni Dieu ni PÃ¨re"]],
  ["Court mÃ©trage fiction",[ "Big Boys Donâ€™t Cry","Deux personnes Ã©changeant de la salive","Mort dâ€™un acteur","Wonderwall"]]
];

/* Helpers */
function qs(k){ return new URLSearchParams(location.search).get(k)||''; }
function keyFor(p){ return `cesars2026_${p}`; }
function loadVotes(p){ try{return JSON.parse(localStorage.getItem(keyFor(p))||'{}')}catch(e){return{}} }
function saveVotes(p,obj){ localStorage.setItem(keyFor(p),JSON.stringify(obj)) }
function loadWinners(){ try{return JSON.parse(localStorage.getItem('cesars2026_winners')||'{}')}catch(e){return{}} }
function saveWinners(w){ localStorage.setItem('cesars2026_winners',JSON.stringify(w)) }

/* Participants dÃ©tectÃ©s (base + localStorage) */
function getAllParticipants(){
  const s=new Set(PARTICIPANTS_BASE);
  for(let i=0;i<localStorage.length;i++){
    let k=localStorage.key(i);
    if(k.startsWith('cesars2026_') && k!=='cesars2026_winners'){
      s.add(k.replace('cesars2026_',''));
    }
  }
  return [...s].sort();
}

/* Score selon la rÃ¨gle */
function computeScore(name,winners){
  const votes = loadVotes(name);
  let total = 0;
  CATEGORIES.forEach(([cat])=>{
    const win = winners[cat];
    if(!win) return;
    const v = votes[cat]||{};
    if(v.realiste === win){
      total += 2;
      if(v.coeur === v.realiste) total += 1;
    }
  });
  return total;
}
</script>

<div class="nav">
  ./ğŸ  Accueil</a>
  ?view=winnersğŸ† Gagnants</a>
  ?view=rankingğŸ“Š Classement</a>
</div>

<!-- Accueil -->
<div id="view-list" class="card" style="display:none">
  <h1>Participants</h1>
  <ul id="plist"></ul>
</div>

<!-- Participant -->
<div id="view-participant" class="card" style="display:none">
  <h1 id="ptitle"></h1>
  <div id="cats"></div>
  <button id="saveBtn" class="btn btn-primary">Enregistrer</button>
  <button id="clearBtn" class="btn">Effacer</button>
</div>

<!-- Gagnants -->
<div id="view-winners" class="card" style="display:none">
  <h1>ğŸ† DÃ©clarer les gagnants</h1>
  <div id="winPanel"></div>
  <button id="saveWin" class="btn btn-primary">Enregistrer</button>
  <button id="clearWin" class="btn">Effacer les gagnants</button>
</div>

<!-- Classement -->
<div id="view-ranking" class="card" style="display:none">
  <h1>ğŸ“Š Classement gÃ©nÃ©ral</h1>
  <table>
    <thead><tr><th>#</th><th>Nom</th><th>Points</th></tr></thead>
    <tbody id="rankBody"></tbody>
  </table>
  <button id="refreshRank" class="btn">â†» RafraÃ®chir</button>
</div>

<template id="tpl-cat">
  <div style="margin-top:12px;border-top:1px dashed var(--border);padding-top:10px">
    <h3></h3>
    <div class="grid">
      <div><label>CÅ“ur</label><select class="coeur"></select></div>
      <div><label>RÃ©aliste</label><select class="real"></select></div>
    </div>
  </div>
</template>

<template id="tpl-win">
  <div style="margin-top:12px;border-top:1px dashed var(--border);padding-top:10px">
    <h3></h3><select class="winner"></select>
  </div>
</template>

<script>
/* Router */
const p = qs('participant').toLowerCase();
const v = qs('view').toLowerCase();

function show(id){
  ["view-list","view-participant","view-winners","view-ranking"]
    .forEach(x=>document.getElementById(x).style.display=(x===id?'block':'none'));
}

/* Participants */
if(p){
  show("view-participant");
  document.getElementById("ptitle").textContent = "Pronostics â€” " + p;

  const root = document.getElementById("cats");
  root.innerHTML="";
  const tpl=document.getElementById("tpl-cat");

  const saved=loadVotes(p);

  CATEGORIES.forEach(([cat,opts])=>{
    const n=tpl.content.cloneNode(true);
    n.querySelector("h3").textContent=cat;

    const c=n.querySelector(".coeur");
    const r=n.querySelector(".real");

    ["â€” SÃ©lectionner â€”",...opts].forEach(o=>{
      const op=document.createElement("option");
      op.value=o;op.textContent=o;c.appendChild(op.cloneNode(true));
      r.appendChild(op);
    });

    if(saved[cat]?.coeur) c.value=saved[cat].coeur;
    if(saved[cat]?.realiste) r.value=saved[cat].realiste;

    root.appendChild(n);
  });

  document.getElementById("saveBtn").onclick=()=>{
    const out={};
    root.querySelectorAll("h3").forEach(h=>{
      const cat=h.textContent;
      const box=h.parentElement;
      out[cat]={
        coeur:box.querySelector(".coeur").value,
        realiste:box.querySelector(".real").value
      };
    });
    saveVotes(p,out);
    alert("EnregistrÃ© !");
  };

  document.getElementById("clearBtn").onclick=()=>{
    localStorage.removeItem(keyFor(p));
    location.reload();
  };

}
/* Gagnants */
else if(v==="winners"){
  show("view-winners");

  const panel=document.getElementById("winPanel");
  panel.innerHTML="";
  const tpl=document.getElementById("tpl-win");
  const saved=loadWinners();

  CATEGORIES.forEach(([cat,opts])=>{
    const n=tpl.content.cloneNode(true);
    n.querySelector("h3").textContent=cat;

    const s=n.querySelector(".winner");
    ["â€” Non dÃ©fini â€”",...opts].forEach(o=>{
      const op=document.createElement("option");
      op.value=o;op.textContent=o;s.appendChild(op);
    });

    if(saved[cat]) s.value=saved[cat];
    panel.appendChild(n);
  });

  saveWin.onclick=()=>{
    const out={};
    panel.querySelectorAll("h3").forEach(h=>{
      const cat=h.textContent;
      const sel=h.parentElement.querySelector(".winner").value;
      out[cat]=(sel==="â€” Non dÃ©fini â€”"?"":sel);
    });
    saveWinners(out);
    alert("Gagnants enregistrÃ©s !");
  };

  clearWin.onclick=()=>{
    localStorage.removeItem("cesars2026_winners");
    location.reload();
  };

}
/* Classement */
else if(v==="ranking"){
  show("view-ranking");

  function refresh(){
    const winners=loadWinners();
    const all=getAllParticipants();
    const rows=all.map(name=>({
      name,
      pts:computeScore(name,winners)
    })).sort((a,b)=>b.pts-a.pts||a.name.localeCompare(b.name));

    const tbody=document.getElementById("rankBody");
    tbody.innerHTML=rows.map((r,i)=>`
      <tr><td>${i+1}</td><td>${r.name}</td><td>${r.pts}</td></tr>
    `).join("");
  }

  refresh();
  document.getElementById("refreshRank").onclick=refresh;
}
/* Accueil */
else{
  show("view-list");
  const ul=document.getElementById("plist");
  const all=getAllParticipants();
  ul.innerHTML=all.map(n=>`
    <li>â€¢ <a href="?participant=${n}">${n}</a></li>
  `).join("");
}
</script>

</div>
</body>
</html>

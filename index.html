
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>C√©sars 2026 ‚Äî Pronostics</title>
  <style>
    :root{--bg:#0f172a;--panel:#0b1220;--border:#1f2937;--text:#e5e7eb;--muted:#94a3b8;--accent:#22c55e}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:radial-gradient(1200px 800px at 10% 10%,#0b1220,#0f172a);color:var(--text)}
    .container{max-width:980px;margin:0 auto;padding:24px}
    a{color:#a7f3d0;text-decoration:none}
    .card{background:linear-gradient(180deg,#0f172acc,#0b1220cc);border:1px solid var(--border);border-radius:14px;box-shadow:0 8px 24px rgba(0,0,0,.3);padding:18px}
    ul{list-style:none;padding:0}
    li{margin:8px 0}
    select,input[type=text]{width:100%;background:#0b1220;color:var(--text);border:1px solid var(--border);border-radius:10px;padding:10px}
    label{display:block;margin-bottom:6px;font-weight:600}
    .grid{display:grid;gap:14px;grid-template-columns:1fr}
    @media(min-width:700px){.grid{grid-template-columns:1fr 1fr}}
    .footer{margin-top:18px;color:var(--muted);font-size:12px}
    .btn{cursor:pointer;border:1px solid var(--border);color:#fff;background:#111827;padding:10px 14px;border-radius:10px;font-weight:600;display:inline-block}
    .btn-primary{background:linear-gradient(90deg,#22c55e,#16a34a);border:none}
  </style>
</head>
<body>
  <div class="container">
    <div id="view-list" class="card" style="display:none">
      <h1 style="margin:0 0 8px">Participants</h1>
      <p>Choisir un nom pour ouvrir sa page de pronostics&nbsp;:</p>
      <ul id="plist"></ul>
      <div class="footer">Astuce&nbsp;: ajoute un participant en tapant son nom directement dans l‚ÄôURL&nbsp;: <code>?participant=prenom</code> (ex&nbsp;: <code>?participant=val</code>).</div>
    </div>

    <div id="view-participant" class="card" style="display:none">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px">
        <h1 id="ptitle" style="margin:0">Pronostics</h1>
        <a class="btn" href="./">‚Üê Liste</a>
      </div>
      <p id="psub" style="color:var(--muted);margin-top:6px"></p>

      <div id="cats"></div>
      <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
        <button id="saveBtn" class="btn btn-primary">üíæ Enregistrer</button>
        <button id="clearBtn" class="btn">üóëÔ∏è Effacer mes choix</button>
        <button id="exportBtn" class="btn">‚¨áÔ∏è Exporter (JSON)</button>
      </div>
    </div>
  </div>

  <template id="cat-template">
    <div style="border-top:1px dashed var(--border);padding-top:12px;margin-top:10px">
      <h3 style="margin:0 0 6px"></h3>
      <div class="grid">
        <div>
          <label>Choix du c≈ìur</label>
          <select class="coeur"></select>
        </div>
        <div>
          <label>Choix r√©aliste</label>
          <select class="realiste"></select>
        </div>
      </div>
    </div>
  </template>

  <script>
    const PARTICIPANTS = ["fabio", "marion", "alban", "paul", "val", "lucile", "oumeya"];
    const CATEGORIES = [["Meilleur film", ["L‚ÄôAttachement ‚Äì Carine Tardieu", "Dossier 137 ‚Äì Dominik Moll", "Nouvelle Vague ‚Äì Richard Linklater", "La Petite Derni√®re ‚Äì Hafsia Herzi", "Un Simple Accident ‚Äì Jafar Panahi"]], ["Meilleure r√©alisation", ["Carine Tardieu ‚Äì L‚ÄôAttachement", "Dominik Moll ‚Äì Dossier 137", "St√©phane Demoustier ‚Äì L‚ÄôInconnu de la Grande Arche", "Richard Linklater ‚Äì Nouvelle Vague", "Hafsia Herzi ‚Äì La Petite Derni√®re"]], ["Meilleure actrice", ["Le√Øla Bekhti ‚Äì Ma m√®re, Dieu et Sylvie Vartan", "Valeria Bruni Tedeschi ‚Äì L‚ÄôAttachement", "L√©a Drucker ‚Äì Dossier 137", "Isabelle Huppert ‚Äì La Femme la plus riche du monde", "M√©lanie Thierry ‚Äì La Chambre de Mariana"]], ["Meilleur acteur", ["Claes Bang ‚Äì L‚ÄôInconnu de la Grande Arche", "Bastien Bouillon ‚Äì Partir un jour", "Laurent Lafitte ‚Äì La Femme la plus riche du monde", "Pio Marma√Ø ‚Äì L‚ÄôAttachement", "Benjamin Voisin ‚Äì L‚Äô√âtranger"]], ["Meilleure actrice dans un second r√¥le", ["Jeanne Balibar ‚Äì Nino", "Dominique Blanc ‚Äì Partir un jour", "Marina Fo√Øs ‚Äì La Femme la plus riche du monde", "Ji‚ÄëMin Park ‚Äì La Petite Derni√®re", "Vimala Pons ‚Äì L‚ÄôAttachement"]], ["Meilleur acteur dans un second r√¥le", ["Swann Arlaud ‚Äì L‚ÄôInconnu de la Grande Arche", "Xavier Dolan ‚Äì L‚ÄôInconnu de la Grande Arche", "Michel Fau ‚Äì L‚ÄôInconnu de la Grande Arche", "Pierre Lottin ‚Äì L‚Äô√âtranger", "Rapha√´l Personnaz ‚Äì La Femme la plus riche du monde"]], ["Meilleur espoir f√©minin", ["Manon Clavel ‚Äì Kika", "Suzanne Lindon ‚Äì La Venue de l‚Äôavenir", "Nadia Melliti ‚Äì La Petite Derni√®re", "Camille Rutherford ‚Äì Jane Austen a g√¢ch√© ma vie", "Anja Verderosa ‚Äì L‚Äô√âpreuve du feu"]], ["Meilleur espoir masculin", ["Idir Azougli ‚Äì M√©t√©ors", "Sayyid El Alami ‚Äì La Pampa", "F√©lix Lefebvre ‚Äì L‚Äô√âpreuve du feu", "Guillaume Marbeck ‚Äì Nouvelle Vague", "Th√©odore Pellerin ‚Äì Nino"]], ["Meilleur sc√©nario original", ["Dominik Moll, Gilles Marchand ‚Äì Dossier 137", "Pauline Loqu√®s ‚Äì Nino", "Holly Gent, Vince Palmo, Mich√®le Halberstadt, Laetitia Masson ‚Äì Nouvelle Vague", "Franck Dubosc, Sarah Kaminsky ‚Äì Un ours dans le Jura", "Jafar Panahi ‚Äì Un Simple Accident"]], ["Meilleure adaptation", ["Carine Tardieu, Rapha√´le Moussafir, Agn√®s Feuvre ‚Äì L‚ÄôAttachement", "St√©phane Demoustier ‚Äì L‚ÄôInconnu de la Grande Arche", "Hafsia Herzi ‚Äì La Petite Derni√®re"]], ["Meilleure musique originale", ["Arnaud Toulon ‚Äì ARCO", "Olivier Marguerit ‚Äì Dossier 137", "Fatima Al Qadiri ‚Äì L‚Äô√âtranger", "Alex Beaupain ‚Äì La Femme la plus riche du monde", "Amine Bouhafa ‚Äì La Petite Derni√®re"]], ["Meilleur son", ["Nicolas Becker, Andrea Ferrara, Jon Goc, Damien Lazzerini ‚Äì ARCO", "Romain Cadilhac, Marc Namblard, Olivier Touche, Olivier Goinard ‚Äì Le Chant des For√™ts", "Fran√ßois Maurel, Rym Debbarh‚ÄëMounir, Nathalie Vidal ‚Äì Dossier 137", "Jean Minondo, Serge Rouquairol, Christophe Vingtrinier ‚Äì Nouvelle Vague", "R√©mi Chanaud, Jeanne Delplancq, Fanny Martin, Niels Barletta ‚Äì Partir un jour"]], ["Meilleure photographie", ["Elin Kirschfink ‚Äì L‚ÄôAttachement", "Patrick Ghiringhelli ‚Äì Dossier 137", "Marine Atlan ‚Äì L‚ÄôEngloutie", "Manu Dacosse ‚Äì L‚Äô√âtranger", "David Chambille ‚Äì Nouvelle Vague"]], ["Meilleur montage", ["Stan Collet ‚Äì 13 jours, 13 nuits", "Christel Dewynter ‚Äì L‚ÄôAttachement", "Laurent Rouan ‚Äì Dossier 137", "Catherine Schwartz ‚Äì Nouvelle Vague", "G√©raldine Mangenot ‚Äì La Petite Derni√®re"]], ["Meilleurs d√©cors", ["Jean‚ÄëPhilippe Moreaux ‚Äì Chien 51", "Catherine Cosme ‚Äì L‚ÄôInconnu de la Grande Arche", "Riton Dupire‚ÄëCl√©ment ‚Äì Ma m√®re, Dieu et Sylvie Vartan", "Katia Wyszkop ‚Äì Nouvelle Vague", "Marie Cheminal ‚Äì La Venue de l‚Äôavenir"]], ["Meilleurs costumes", ["C√©line Guignard ‚Äì La Condition", "Corinne Bruand ‚Äì Dracula", "J√ºrgen Doering ‚Äì La Femme la plus riche du monde", "Pascaline Chavanne ‚Äì Nouvelle Vague", "Pierre‚ÄëYves Gayraud ‚Äì La Venue de l‚Äôavenir"]], ["Meilleurs effets visuels", ["C√©dric Fayolle ‚Äì Chien 51", "Rodolphe Chabrier, Beno√Æt de Longl√©e ‚Äì L‚ÄôHomme qui r√©tr√©cit", "Lise Fischer ‚Äì L‚ÄôInconnu de la Grande Arche", "Alain Carsoux ‚Äì Nouvelle Vague"]], ["Meilleur film d‚Äôanimation (long m√©trage)", ["Am√©lie et la m√©taphysique des tubes ‚Äì Ma√Ølys Vallade, Liane‚ÄëCho Han", "ARCO ‚Äì Ugo Bienvenu", "La Vie de ch√¢teau, mon enfance √† Versailles ‚Äì Cl√©mence Madeleine‚ÄëPerdrillat, Nathaniel H‚ÄôLimi"]], ["Meilleur film documentaire", ["√Ä Bicyclette ! ‚Äì Mathias Mlekuz", "Le Chant des For√™ts ‚Äì Vincent Munier", "Le Cinqui√®me Plan de La Jet√©e ‚Äì Dominique Cabrera", "Personne n‚Äôy comprend rien ‚Äì Yannick Kergoat", "Put Your Soul On Your Hand And Walk ‚Äì Sepideh Farsi"]], ["Meilleur premier film", ["ARCO ‚Äì Ugo Bienvenu", "L‚Äô√âpreuve du feu ‚Äì Aur√©lien Peyre", "Nino ‚Äì Pauline Loqu√®s", "La Pampa ‚Äì Antoine Chevrollier", "Partir un jour ‚Äì Am√©lie Bonnin"]], ["Meilleur film √©tranger", ["L‚ÄôAgent secret ‚Äì Kleber Mendon√ßa Filho", "Black Dog ‚Äì Guan Hu", "SirƒÅt ‚Äì Oliver Laxe", "Une bataille apr√®s l‚Äôautre ‚Äì Paul Thomas Anderson", "Valeur sentimentale ‚Äì Joachim Trier"]], ["Meilleur court m√©trage d‚Äôanimation", ["Les Belles Cicatrices ‚Äì Rapha√´l Jouzeau", "Dieu est timide ‚Äì Jocelyn Charles", "Fille de l‚Äôeau ‚Äì Sandra Desmazi√®res"]], ["Meilleur court m√©trage documentaire", ["Au bain des dames ‚Äì Margaux Fournier", "Car Wash ‚Äì La√Øs Decaster", "Ni Dieu ni P√®re ‚Äì Paul Kermarec"]], ["Meilleur court m√©trage de fiction", ["Big Boys Don‚Äôt Cry ‚Äì Arnaud Delmarle", "Deux personnes √©changeant de la salive ‚Äì Natalie Musteata, Alexandre Singh", "Mort d‚Äôun acteur ‚Äì Ambroise Rateau", "Wonderwall ‚Äì R√≥is√≠n Burns"]]];

    function qs(k){ return new URLSearchParams(location.search).get(k)||''; }
    const p = (qs('participant')||'').trim().toLowerCase();

    const listView = document.getElementById('view-list');
    const partView = document.getElementById('view-participant');

    if(!p){
      // Liste des participants
      listView.style.display='block';
      const ul = document.getElementById('plist');
      ul.innerHTML = PARTICIPANTS.map(x=>`<li>‚Ä¢ <a href='?participant=${x}'>${x}</a></li>`).join('');
    } else {
      // Vue participant
      partView.style.display='block';
      document.getElementById('ptitle').textContent = `Pronostics ‚Äî ${p}`;
      document.getElementById('psub').textContent = `Saisie pour ${p} (menus d√©roulants)`;

      const root = document.getElementById('cats');
      const tpl = document.getElementById('cat-template');

      function buildSelect(sel, options){
        sel.innerHTML = '';
        const base = ['‚Äî S√©lectionner ‚Äî', ...options, 'Autre (saisie libre)‚Ä¶'];
        base.forEach(v=>{ const o=document.createElement('option'); o.value=v; o.textContent=v; sel.appendChild(o); });
      }

      // Charger √©ventuels choix sauvegard√©s
      const STOREKEY = `cesars2026_${p}`;
      const saved = JSON.parse(localStorage.getItem(STOREKEY)||'{}');

      CATEGORIES.forEach(cat=>{
        const node = tpl.content.cloneNode(true);
        const title = cat[0];
        const nominees = cat[1];
        node.querySelector('h3').textContent = title;
        const coeur = node.querySelector('.coeur');
        const real = node.querySelector('.realiste');
        buildSelect(coeur, nominees);
        buildSelect(real, nominees);
        // pr√©-remplir
        if(saved[title]){
          if(saved[title].coeur) coeur.value = saved[title].coeur;
          if(saved[title].realiste) real.value = saved[title].realiste;
        }
        root.appendChild(node);
      });

      document.getElementById('saveBtn').addEventListener('click', ()=>{
        const blocks = root.querySelectorAll('[style*="border-top"]');
        const out = {};
        blocks.forEach(b=>{
          const title = b.querySelector('h3').textContent;
          const v1 = b.querySelector('.coeur').value;
          const v2 = b.querySelector('.realiste').value;
          out[title] = { coeur: v1==='‚Äî S√©lectionner ‚Äî'?'':v1, realiste: v2==='‚Äî S√©lectionner ‚Äî'?'':v2 };
        });
        localStorage.setItem(STOREKEY, JSON.stringify(out));
        alert('Enregistr√© !');
      });

      document.getElementById('clearBtn').addEventListener('click', ()=>{
        if(!confirm(`Effacer toutes les s√©lections pour ${p} ?`)) return;
        localStorage.removeItem(STOREKEY);
        location.reload();
      });

      document.getElementById('exportBtn').addEventListener('click', ()=>{
        const data = localStorage.getItem(STOREKEY)||'{}';
        const a=document.createElement('a');
        a.href=URL.createObjectURL(new Blob([data],{type:'application/json'}));
        a.download=`pronostics_${p}.json`;
        a.click();
        setTimeout(()=>URL.revokeObjectURL(a.href),1000);
      });
    }
  </script>
</body>
</html>
